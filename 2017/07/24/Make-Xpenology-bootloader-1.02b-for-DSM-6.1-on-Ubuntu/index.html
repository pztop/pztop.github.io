<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  




<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Ubuntu,Xpenology,NAS," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="If you are reading this you problebly already knew what is Xpenology. I havn’t had a chance to try it. Recently jun released the Xpenology bootloader 1.02b for DSM 6.1. I tried it on my ESXi 6.5 and f">
<meta property="og:type" content="article">
<meta property="og:title" content="Make Xpenology bootloader 1.02b for DSM 6.1 on Ubuntu">
<meta property="og:url" content="http://blog.pztop.com/2017/07/24/Make-Xpenology-bootloader-1.02b-for-DSM-6.1-on-Ubuntu/index.html">
<meta property="og:site_name" content="Backyard·后花园">
<meta property="og:description" content="If you are reading this you problebly already knew what is Xpenology. I havn’t had a chance to try it. Recently jun released the Xpenology bootloader 1.02b for DSM 6.1. I tried it on my ESXi 6.5 and f">
<meta property="og:updated_time" content="2017-07-26T20:17:57.307Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Make Xpenology bootloader 1.02b for DSM 6.1 on Ubuntu">
<meta name="twitter:description" content="If you are reading this you problebly already knew what is Xpenology. I havn’t had a chance to try it. Recently jun released the Xpenology bootloader 1.02b for DSM 6.1. I tried it on my ESXi 6.5 and f">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'Author'
    }
  };
</script>

  <title> Make Xpenology bootloader 1.02b for DSM 6.1 on Ubuntu | Backyard·后花园 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Backyard·后花园</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th fa-fw"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            Tags
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="#" class="st-search-show-outputs">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <form class="site-search-form">
  <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
</form>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'ZDLd_wE2gGn_ScsyQEfm','2.0.0');
</script>



    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Make Xpenology bootloader 1.02b for DSM 6.1 on Ubuntu
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2017-07-24T16:30:16-07:00" content="2017-07-24">
              2017-07-24
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/NAS/" itemprop="url" rel="index">
                    <span itemprop="name">NAS</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/07/24/Make-Xpenology-bootloader-1.02b-for-DSM-6.1-on-Ubuntu/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/07/24/Make-Xpenology-bootloader-1.02b-for-DSM-6.1-on-Ubuntu/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>If you are reading this you problebly already knew what is <a href="https://xpenology.com/forum/" target="_blank" rel="external">Xpenology</a>. I havn’t had a chance to try it. Recently jun released <a href="https://xpenology.com/forum/topic/6253-dsm-6xx-loader/" target="_blank" rel="external">the Xpenology bootloader 1.02b for DSM 6.1</a>. I tried it on my ESXi 6.5 and found it works quite well so I am going to try it on a bare metal PC.   </p>
<p>To setup the Xpenology NAS, the first thing  you need to do is making the bootloader onto an USB stick so your NAS will boot from it. Then it will guide you to install the DSM 6.1. </p>
<p>There are lots tutorials on how to makethe USB bootloader from a Windows PC. The process is simple but still needs you to get on Windows and download/install few programs to have the job done. We all know that Xpenology is based on Linux system, so why not just make the bootloader on Linux?</p>
<p>Here I’ll show you how to make the bootloader from Ubuntu. For this we need:</p>
<ol>
<li>A computer with Ubuntu installed. (Other Linux OS should also works.)</li>
<li>An USB drive</li>
</ol>
<div class="alert alert-success"><i class="fa fa-lightbulb-o"></i>  If you don't have an Ubuntu/Linux PC, you may just boot from an Ubuntu Live DVD. </div>
<p>OK, Let’s start!<br><a id="more"></a></p>
<h2 id="Download-the-bootloader"><a href="#Download-the-bootloader" class="headerlink" title="Download the bootloader"></a>Download the bootloader</h2><p>Following the <a href="https://xpenology.com/forum/topic/6253-dsm-6xx-loader/" target="_blank" rel="external">link</a> provided by jun’s post on the Xpenology Forum, download the bootloader ISO file.</p>
<p>I am going to try the DS3617xs build so I downloaded this file and saved it at /home/pztop/xpenology/:</p>
<blockquote>
<p>DS3617xs 6.1 Jun’s Mod V1.02b.iso</p>
</blockquote>
<h2 id="Gather-information"><a href="#Gather-information" class="headerlink" title="Gather information"></a>Gather information</h2><h3 id="Find-the-MAC-address-of-the-NIC-on-your-NAS"><a href="#Find-the-MAC-address-of-the-NIC-on-your-NAS" class="headerlink" title="Find the MAC address of the NIC on your NAS"></a>Find the MAC address of the NIC on your NAS</h3><p>I connect an USB external DVD-ROM to my NAS and boot up with an Ubuntu Live DVD. Then I use <em>ifconfig</em> command to find the MAC addesss.<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ ifconfig </span><br><span class="line">eno1      Link encap:Ethernet  HWaddr 54:04:a6:19:21:a2  </span><br><span class="line">          inet addr:192.168.1.77  Bcast:192.168.1.255  Mask:255.255.255.0</span><br><span class="line">          inet6 addr: fe80::5604:a6ff:fe19:21a2/64 Scope:Link</span><br><span class="line">          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1</span><br><span class="line">          RX packets:9375 errors:0 dropped:3 overruns:0 frame:0</span><br><span class="line">          TX packets:4558 errors:0 dropped:0 overruns:0 carrier:0</span><br><span class="line">          collisions:0 txqueuelen:1000 </span><br><span class="line">          RX bytes:12211676 (12.2 MB)  TX bytes:464897 (464.8 KB)</span><br><span class="line">          Interrupt:18 Memory:fb500000-fb520000 </span><br><span class="line"></span><br><span class="line">lo        Link encap:Local Loopback  </span><br><span class="line">          inet addr:127.0.0.1  Mask:255.0.0.0</span><br><span class="line">          inet6 addr: ::1/128 Scope:Host</span><br><span class="line">          UP LOOPBACK RUNNING  MTU:65536  Metric:1</span><br><span class="line">          RX packets:1087 errors:0 dropped:0 overruns:0 frame:0</span><br><span class="line">          TX packets:1087 errors:0 dropped:0 overruns:0 carrier:0</span><br><span class="line">          collisions:0 txqueuelen:1 </span><br><span class="line">          RX bytes:116687 (116.6 KB)  TX bytes:116687 (116.6 KB)</span><br></pre></td></tr></table></figure></p>
<p>I see the MAC address (HWaddr) is 54:04:a6:19:21:a2.</p>
<h3 id="Find-the-USB-stick-info"><a href="#Find-the-USB-stick-info" class="headerlink" title="Find the USB stick info"></a>Find the USB stick info</h3><p>Plug in the USB stick (I got an old 1GB USB drive), then issue command <em>lsusb</em><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ lsusb</span><br><span class="line">Bus 001 Device 015: ID 0204:6025 Chipsbank Microelectronics Co., Ltd CBM2080 / CBM2090 Flash drive controller</span><br><span class="line">Bus 001 Device 002: ID 0409:013e NEC Corp. </span><br><span class="line">Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub</span><br><span class="line">Bus 005 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub</span><br><span class="line">Bus 004 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub</span><br><span class="line">Bus 003 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub</span><br><span class="line">Bus 002 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub</span><br></pre></td></tr></table></figure></p>
<p>I noticed the two numbers I needed:<br>Vendor ID(VID) is 0204. Product ID(PID) is 6025.</p>
<h3 id="Obtian-a-SN-for-the-NAS"><a href="#Obtian-a-SN-for-the-NAS" class="headerlink" title="Obtian a SN for the NAS"></a>Obtian a SN for the NAS</h3><p>I used the serial number generator at <a href="https://xpenology.github.io/serial_generator/serial_generator_new.html" target="_blank" rel="external">here</a> to get my SN.<br>Select DS3617xs as the model then click on “Generate” then I got the SN.<br>SN=1230ODN613301</p>
<h2 id="Customize-your-own-bootloader-ISO-image"><a href="#Customize-your-own-bootloader-ISO-image" class="headerlink" title="Customize your own bootloader ISO image"></a>Customize your own bootloader ISO image</h2><p>The ISO image file jun provided is just an example ISO image. We need customize it according to our own system. This involves to modify a single file <em>grub.cfg</em> inside the ISO image I just downloaded. So lets begin.</p>
<h3 id="What-the-ISO-file-contains"><a href="#What-the-ISO-file-contains" class="headerlink" title="What the ISO file contains?"></a>What the ISO file contains?</h3><p>First I analyzed the ISO image file. Switch to root user and show the image layout. Here is the output:<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">fdisk -lu  DS3617xs\ 6.1\ Jun\&apos;s\ Mod\ V1.02b.iso</span><br><span class="line">Disk DS3617xs 6.1 Jun&apos;s Mod V1.02b.iso: 50 MiB, 52428800 bytes, 102400 sectors</span><br><span class="line">Units: sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">Disklabel type: gpt</span><br><span class="line">Disk identifier: C94E55EA-A4D2-4E78-9D73-46CBAE7A03EF</span><br><span class="line"></span><br><span class="line">Device                             Start    End Sectors Size Type</span><br><span class="line">DS3617xs 6.1 Jun&apos;s Mod V1.02b.iso1  2048  32767   30720  15M EFI System</span><br><span class="line">DS3617xs 6.1 Jun&apos;s Mod V1.02b.iso2 32768  94207   61440  30M Linux filesystem</span><br><span class="line">DS3617xs 6.1 Jun&apos;s Mod V1.02b.iso3 94208 102366    8159   4M BIOS boot</span><br></pre></td></tr></table></figure></p>
<p>Here we got some importabt infomation: (1) The Sector size is 512 bytes; (2) The first partition (15MB size) start at cylinder 2048; (3)The first partition is the EFI partition.</p>
<p>Now I calculated the offset from the start of the image to the partition start:<br>Sector size x Start = 512 x 2048 = 1048576</p>
<h3 id="Mount-loop-device"><a href="#Mount-loop-device" class="headerlink" title="Mount loop device"></a>Mount loop device</h3><p>Mount it on /dev/loop0 using this offset number:<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># losetup -o 1048576 /dev/loop0 DS3617xs\ 6.1\ Jun\&apos;s\ Mod\ V1.02b.iso</span><br></pre></td></tr></table></figure></p>
<h3 id="Mount-the-EFI-partition"><a href="#Mount-the-EFI-partition" class="headerlink" title="Mount the EFI partition"></a>Mount the EFI partition</h3><p>Now the partition resides on /dev/loop0. mount it:<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># mkdir /mnt/xpeboot</span><br><span class="line"># mount /dev/loop0 /mnt/xpeboot</span><br></pre></td></tr></table></figure></p>
<h3 id="Edit-the-Grub-configration-file"><a href="#Edit-the-Grub-configration-file" class="headerlink" title="Edit the Grub configration file"></a>Edit the Grub configration file</h3><p>The boot partition is mounted and I am able to edit the <em>grub.cfg</em> file:<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nano /mnt/xpeboot/grub/grub.cfg</span><br></pre></td></tr></table></figure></p>
<p>Modify the file using the infomation I’ve got:<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">set vid=0x0204</span><br><span class="line">set pid=0x6025</span><br><span class="line">set sn=1230ODN613301</span><br><span class="line">set mac1=5404a61921a2</span><br><span class="line"></span><br><span class="line">set default=&apos;0&apos;</span><br><span class="line">set timeout=&apos;5&apos;</span><br></pre></td></tr></table></figure></p>
<p>As showed above, I changed <strong>vid</strong>, <strong>pid</strong>, <strong>sn</strong> and  <strong>mac1</strong> accordingly. I also set the <strong>timeout</strong> to 5 sec. (If you want use the bootloader on ESXi, you may also want to set the <strong>default</strong> to “2”.)</p>
<p>Save the file when done. </p>
<h3 id="Clean-up"><a href="#Clean-up" class="headerlink" title="Clean up"></a>Clean up</h3><p>Unmount the image:</p>
<pre><code>umount /mnt/xpeboot
losetup -d /dev/loop0
</code></pre><p>Now I got my customized ISO image. To confirm this,  use command <em>ls -l</em> or <em>stat</em> you can check the timestamp of the iso file, it should be a newly modified file. </p>
<h2 id="Make-the-bootloader-USB-stick"><a href="#Make-the-bootloader-USB-stick" class="headerlink" title="Make the bootloader USB stick"></a>Make the bootloader USB stick</h2><p>With the customized image iso file ready, I can start make the bootable USB stick. </p>
<p>Insert the USB stick and check <em>dmesg</em> ,<br><code>dmesg</code></p>
<p>look at the lines on the bottom and I see the system recognized the USB drive as <em>/dev/sdd</em> (NOTE: Yours may be different! Check it carefully or you may accidentally wipe the wrong drive.)</p>
<p>Still as root user,navigate to the iso file reside directory, then use <em>dd</em> command to burn the ISO image to the USB stick:</p>
<p><code>dd if=DS3617xs\ 6.1\ Jun\&#39;s\ Mod\ V1.02b.iso of=/dev/sdd bs=512</code></p>
<p>Now I have the USB bootloader drive ready!</p>
<h2 id="Install-DSM-6-1"><a href="#Install-DSM-6-1" class="headerlink" title="Install DSM 6.1"></a>Install DSM 6.1</h2><p>I am not going to go to details about this. You can find lots instructions online. Just insert the USB stick just made, then boot NAS from it, finish the DSM installation and ENJOY!</p>

      
    </div>
    
    <div>
      
        
      
    </div>

    <div>
      
        
      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Ubuntu/" rel="tag">#Ubuntu</a>
          
            <a href="/tags/Xpenology/" rel="tag">#Xpenology</a>
          
            <a href="/tags/NAS/" rel="tag">#NAS</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/11/29/Virtual-Alias-Domain-in-Postfix/" rel="next" title="Virtual Alias Domain in Postfix">
                <i class="fa fa-chevron-left"></i> Virtual Alias Domain in Postfix
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="Gao" />
          <p class="site-author-name" itemprop="name">Gao</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">11</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">16</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Download-the-bootloader"><span class="nav-number">1.</span> <span class="nav-text">Download the bootloader</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Gather-information"><span class="nav-number">2.</span> <span class="nav-text">Gather information</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Find-the-MAC-address-of-the-NIC-on-your-NAS"><span class="nav-number">2.1.</span> <span class="nav-text">Find the MAC address of the NIC on your NAS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Find-the-USB-stick-info"><span class="nav-number">2.2.</span> <span class="nav-text">Find the USB stick info</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Obtian-a-SN-for-the-NAS"><span class="nav-number">2.3.</span> <span class="nav-text">Obtian a SN for the NAS</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Customize-your-own-bootloader-ISO-image"><span class="nav-number">3.</span> <span class="nav-text">Customize your own bootloader ISO image</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#What-the-ISO-file-contains"><span class="nav-number">3.1.</span> <span class="nav-text">What the ISO file contains?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Mount-loop-device"><span class="nav-number">3.2.</span> <span class="nav-text">Mount loop device</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Mount-the-EFI-partition"><span class="nav-number">3.3.</span> <span class="nav-text">Mount the EFI partition</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Edit-the-Grub-configration-file"><span class="nav-number">3.4.</span> <span class="nav-text">Edit the Grub configration file</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Clean-up"><span class="nav-number">3.5.</span> <span class="nav-text">Clean up</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Make-the-bootloader-USB-stick"><span class="nav-number">4.</span> <span class="nav-text">Make the bootloader USB stick</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Install-DSM-6-1"><span class="nav-number">5.</span> <span class="nav-text">Install DSM 6.1</span></a></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Gao</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'pztop';
      var disqus_identifier = '2017/07/24/Make-Xpenology-bootloader-1.02b-for-DSM-6.1-on-Ubuntu/';
      var disqus_title = 'Make Xpenology bootloader 1.02b for DSM 6.1 on Ubuntu';
      var disqus_url = 'http://blog.pztop.com/2017/07/24/Make-Xpenology-bootloader-1.02b-for-DSM-6.1-on-Ubuntu/';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
        run_disqus_script('embed.js');
      
    </script>
  



  
  
  

  

  

</body>
</html>
